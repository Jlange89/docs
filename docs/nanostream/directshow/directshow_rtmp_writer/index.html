<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>nanostream/directshow/directshow_rtmp_writer · nanocosmos Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;rtmp-network-renderer-writer&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#rtmp-network-renderer-writer&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RTMP Network Renderer &amp;amp; Writer&lt;/h2&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="nanostream/directshow/directshow_rtmp_writer · nanocosmos Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://docs.nanocosmos.de/"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;rtmp-network-renderer-writer&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#rtmp-network-renderer-writer&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RTMP Network Renderer &amp;amp; Writer&lt;/h2&gt;
"/><meta property="og:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://docs.nanocosmos.de/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon_nano.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/search.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/nanocosmos_header_logo.png" alt="nanocosmos Documentation"/><h2 class="headerTitleWithLogo">nanocosmos Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/cloud/cloud_overview" target="_self">nanoStream Cloud</a></li><li class=""><a href="/docs/nanoplayer/nanoplayer_introduction" target="_self">H5Live Player</a></li><li class=""><a href="/docs/webrtc/nanostream_webrtc_introduction" target="_self">WebRTC.live</a></li><li class=""><a href="/docs/nanostream/nanostream" target="_self">nanoStream Apps and SDKs</a></li><li class=""><a href="/docs/samples/README" target="_self">Samples</a></li><li class=""><a href="/docs/faq/faq_streaming" target="_self">FAQ</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">nanostream/directshow/directshow_rtmp_writer</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="rtmp-network-renderer-writer"></a><a href="#rtmp-network-renderer-writer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RTMP Network Renderer &amp; Writer</h2>
<h3><a class="anchor" aria-hidden="true" id="purpose"></a><a href="#purpose" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Purpose</h3>
<p>Writing RTMP compatible video/audio streams over a network connection</p>
<p>DirectShow filter for streaming to Wowza and Flash Media Servers</p>
<ul>
<li>Supported Architectures: Microsoft DirectShow, Windows XP, Vista, 7, Server</li>
<li>Supported Formats: H.264 + AAC</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="module-version"></a><a href="#module-version" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Module / Version</h3>
<p>nanocosmos RTMP Network Writer \
nRtmpRenderer.ax  Version 3.0.3.1</p>
<h3><a class="anchor" aria-hidden="true" id="directshow-connectivity"></a><a href="#directshow-connectivity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DirectShow Connectivity</h3>
<p>The RTMP Writer is implemented as a &quot;Renderer Filter&quot;, which means it only has 2 input pins for compressed video and audio and no output pin.\
The input is accepting connections matching the following media types:</p>
<ul>
<li>Pin 1 Media Types:
<ul>
<li>MEDIATYPE_Video</li>
</ul></li>
<li>Pin 1 Media Subtypes:
<ul>
<li>FourCCs: H264, h264</li>
</ul></li>
<li>Pin 1 Formats:
<ul>
<li>FORMAT_MPEG2_VIDEO,</li>
<li>FORMAT_NONE</li>
</ul></li>
<li>Pin 2 Major Media Types:
<ul>
<li>MEDIATYPE_Audio</li>
</ul></li>
<li>Pin 2 Media Subtypes:
<ul>
<li>MEDIASUBTYPE_AAC,  FourCC: 0x000000FF</li>
</ul></li>
<li>Pin 2 Formats:
<ul>
<li>FORMAT_WaveFormatEx,</li>
<li>FORMAT_NONE</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="configuration"></a><a href="#configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h3>
<p>The configuration may be set by using either the property page or the COM-Interface IRTMPOptions as declared in header file RTMPWriterOptions.h.</p>
<pre><code class="hljs css language-c"><span class="hljs-comment">// Filter Guids</span>
<span class="hljs-comment">// {B4FB59C5-983B-4d96-9204-F8B0E46704EE}</span>
DEFINE_GUID(CLSID_NANO_RTMP_WRITER,  <span class="hljs-number">0xb4fb59c5</span>, <span class="hljs-number">0x983b</span>, <span class="hljs-number">0x4d96</span>, <span class="hljs-number">0x92</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0xf8</span>, <span class="hljs-number">0xb0</span>, <span class="hljs-number">0xe4</span>, <span class="hljs-number">0x67</span>, <span class="hljs-number">0x4</span>, <span class="hljs-number">0xee</span>);

<span class="hljs-comment">// Property Page GUID</span>
<span class="hljs-comment">// {EFC673DE-E20E-4699-8331-9522C5DF7A6D}</span>
DEFINE_GUID(CLSID_NANO_RTMP_WRITER_PROPPAGE, <span class="hljs-number">0xefc673de</span>, <span class="hljs-number">0xe20e</span>, <span class="hljs-number">0x4699</span>, <span class="hljs-number">0x83</span>, <span class="hljs-number">0x31</span>, <span class="hljs-number">0x95</span>, <span class="hljs-number">0x22</span>, <span class="hljs-number">0xc5</span>, <span class="hljs-number">0xdf</span>, <span class="hljs-number">0x7a</span>, <span class="hljs-number">0x6d</span>);

<span class="hljs-comment">// Configuration Interface GUID</span>
<span class="hljs-comment">// IID_IRTMPOptions interface</span>
<span class="hljs-comment">// {B8AF4593-BE31-449c-8485-3E6D65CBC1FE}</span>
DEFINE_GUID(IID_IRTMPOptions, <span class="hljs-number">0xb8af4593</span>, <span class="hljs-number">0xbe31</span>, <span class="hljs-number">0x449c</span>, <span class="hljs-number">0x84</span>, <span class="hljs-number">0x85</span>, <span class="hljs-number">0x3e</span>, <span class="hljs-number">0x6d</span>, <span class="hljs-number">0x65</span>, <span class="hljs-number">0xcb</span>, <span class="hljs-number">0xc1</span>, <span class="hljs-number">0xfe</span>)
</code></pre>
<p>The streaming url can be set by using standard DirectShow interface IFileSinkFilter .</p>
<h3><a class="anchor" aria-hidden="true" id="configuration-with-directshow-filter-property-page"></a><a href="#configuration-with-directshow-filter-property-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration with DirectShow filter property page</h3>
<p><img src="img/directshow_rtmp_writer_properties.png" alt="RTMP Writer Properties"></p>
<p>The filter's property page offers a subset of encoding parameters, containing the most important options.</p>
<p>URL formatting:\
rtmp:// [hostname / IP address]/[application]+[stream name]</p>
<p>for example:\
<a href="rtmp://127.0.0.1/live+myStream">rtmp://127.0.0.1/live+myStream</a></p>
<p>with:\
IP address: 127.0.0.1\
Application name: live,   Stream name: myStream</p>
<h3><a class="anchor" aria-hidden="true" id="connection-test"></a><a href="#connection-test" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connection Test</h3>
<p>Connect/Disconnect buttons. Allows to connect before starting the graph and disconnect during the streaming (this stops the running graph).</p>
<h3><a class="anchor" aria-hidden="true" id="rtmp-authentication"></a><a href="#rtmp-authentication" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>RTMP Authentication</h3>
<p>RTMP Authentication expects a user name and a password for unlocking access to the Media Server.
This has been verified with Flash Media Server (3.x and 4) and Wowza Media Server (2.x).
CDNs are supported on a case-by-case basis.
Special tuning as been made for some CDN access
(e.g. Limelight).</p>
<h3><a class="anchor" aria-hidden="true" id="automatic-reconnection"></a><a href="#automatic-reconnection" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Automatic Reconnection:</h3>
<p>Attempts to restore network connection after n seconds to the server in case of network interrupts. During the reconnect attempts the graph still playing. 0 means no attempts to reconnect to server.</p>
<h3><a class="anchor" aria-hidden="true" id="advanced-configuration-options"></a><a href="#advanced-configuration-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Configuration Options</h3>
<p>The advanced options should be handled carefully. They can severely affect network and streaming performance. Contact support if you want to fine tune any settings.</p>
<p>//<strong>Buffering:</strong>//</p>
<p>Data Flow:  RTMP multiplexed data -&gt; application buffer -&gt; socket buffer -&gt; network.</p>
<p>There are 2 buffer types:</p>
<ul>
<li><p>Socket level buffer
Size of the network socket buffer, much dependent on the underlying network architecture</p></li>
<li><p>Application level buffer (Output Buffer Size, Output packet size),  0=no buffer
Affects bandwidth utilization, prevents bitrate changes and puts the sending process to a separate thread.</p></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="advanced-settings"></a><a href="#advanced-settings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Settings:</h4>
<ul>
<li>Live Mode:
<ul>
<li>Turns on/off blocking of input pins.  (should be off by default)</li>
</ul></li>
<li>TCP No Delay:
<ul>
<li>Activates the TCP_NODELAY option for TCP transmission (&quot;Nagle Algorithm&quot;)</li>
</ul></li>
<li>Timecode Options:
<ul>
<li>Sends Time Code in RTMP Meta Data</li>
</ul></li>
<li>Allow B Frames:
<ul>
<li>should be on</li>
</ul></li>
<li>Reduces the buffer/delay in H.264 Main Profile without B Frames. No effect in Baseline Mode.</li>
<li>Timecode Options:
<ul>
<li>send Time Code in RTMP Meta Data</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="connection-status-notification"></a><a href="#connection-status-notification" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connection Status Notification</h4>
<p>There are two possibilities to get the status of the connection to the server:</p>
<ul>
<li>Event messages are sent via IMediaEventSink with the event code EC_NANO_RTMP_WRITER_STATUS  declared in RTMPWriterOptions.h (#define EC_NANO_RTMP_WRITER_STATUS EC_USER+181).  A message is sent when the connection state changes. The different states are represented by (also declared in RTMPWriterOptions.h):</li>
<li>RTMPWriterConnected=0</li>
<li>RTMPWriterDisconnected=1</li>
<li>RTMPWriterReconnecting=2</li>
<li>Using a callback function, which is called when the connection state changes:</li>
<li>Query for the interface IRTMPStatusNotify</li>
<li>Set the callback function via SetStatusNotifyHandler()</li>
</ul>
<h5><a class="anchor" aria-hidden="true" id="rtmp-writer-filter-crashes-when-using-setstatusnotifyhandler"></a><a href="#rtmp-writer-filter-crashes-when-using-setstatusnotifyhandler" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rtmp Writer Filter crashes when using SetStatusNotifyHandler()</h5>
<p>This problem is probably caused by calling a function declared with one calling convention with a function pointer declared with a different calling convention. Here is pretty good explanation of the problem:</p>
<ul>
<li><a href="http://stackoverflow.com/questions/301655/c-visual-studio-runtime-error" title="Stackoverflow C visual studio runtime error">http://stackoverflow.com/questions/301655/c-visual-studio-runtime-error</a></li>
<li><a href="http://stackoverflow.com/questions/10079625/c-run-time-check-failure-0-the-value-of-esp-was-not-properly-saved-across-a" title="Stackoverflow c run time check failure">http://stackoverflow.com/questions/10079625/c-run-time-check-failure-0-the-value-of-esp-was-not-properly-saved-across-a</a></li>
</ul>
<p>Conclusion: Make sure you use __stdcall in your declaration.</p>
<h3><a class="anchor" aria-hidden="true" id="log-debug-configuration-registry-settings"></a><a href="#log-debug-configuration-registry-settings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Log / Debug Configuration Registry Settings</h3>
<p>Key: HKEY_CURRENT_USER\Software\DebugNano\ nRtmpRenderer.ax</p>
<h4><a class="anchor" aria-hidden="true" id="file-name"></a><a href="#file-name" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>File name</h4>
<ul>
<li>Sets the output file name. The folder must exist.</li>
<li>Value name:     LogToFile</li>
<li>Value type:     REG_SZ / String</li>
<li>Valid values:   a valid output file name to enable file logging or an empty string</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="logging-level"></a><a href="#logging-level" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Logging level</h4>
<ul>
<li>A higher value increases the amount of logging messages sent, and messages get more detailed.</li>
<li>Value name:     TRACE</li>
<li>Value type:     REG_DWORD</li>
<li>Valid values:
<ul>
<li>0 - minimal logging</li>
<li>…</li>
<li>9 - maximal logging</li>
</ul></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="contact"></a><a href="#contact" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contact</h4>
<p>//Please contact us for further information, extended services are available upon request.//</p>
<p><a href="http://www.nanocosmos.de" title="http://www.nanocosmos.de">http://www.nanocosmos.de</a></p>
<p><a href="mailto:info@nanocosmos.de" title="Mail to : info@nanocosmos.de">info@nanocosmos.de</a></p>
<p>(c) 2009-2012, nanocosmos gmbh</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#rtmp-network-renderer-writer">RTMP Network Renderer &amp; Writer</a><ul class="toc-headings"><li><a href="#purpose">Purpose</a></li><li><a href="#module-version">Module / Version</a></li><li><a href="#directshow-connectivity">DirectShow Connectivity</a></li><li><a href="#configuration">Configuration</a></li><li><a href="#configuration-with-directshow-filter-property-page">Configuration with DirectShow filter property page</a></li><li><a href="#connection-test">Connection Test</a></li><li><a href="#rtmp-authentication">RTMP Authentication</a></li><li><a href="#automatic-reconnection">Automatic Reconnection:</a></li><li><a href="#advanced-configuration-options">Advanced Configuration Options</a></li><li><a href="#log-debug-configuration-registry-settings">Log / Debug Configuration Registry Settings</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Contact</h5><a href="https://www.nanocosmos.de/">nanocosmos homepage</a><a href="https://www.nanocosmos.de/contact">Contact</a><a href="https://www.nanocosmos.de/support">Support</a><a href="https://www.nanocosmos.de/terma">Legal Terms</a></div><div><h5>Products</h5><a href="https://www.nanocosmos.de/cloud">Nanostream Cloud with Bintu.Live</a><a href="https://www.nanocosmos.de/h5live">H5Live Low Latency HTML5-Player</a><a href="https://www.nanocosmos.de/webrtc">WebRTC.Live</a><a href="https://www.nanocosmos.de/#nanostream">Nanostream Apps and SDK</a></div><div><h5>More</h5><a href="https://www.nanocosmos.de/blog/">Blog</a><a href="https://twitter.com/nanovideo">Twitter</a><a href="https://www.facebook.com/nanocosmos.net/">Facebook</a><a href="https://www.linkedin.com/company/nanocosmos-gmbh">LinkedIn</a><a href="https://github.com/nanocosmos/docs">GitHub</a><a class="github-button" href="https://github.com/nanocosmos/demo" data-icon="octicon-star" data-count-href="/nanocosmos/docs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://nanocosmos.de/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/footer_logo.png" alt="nanocosmos GmbH" width="170" height="45"/></a><section class="copyright">Copyright © 2019 nanocosmos GmbH</section></footer></div></body></html>