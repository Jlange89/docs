<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>RTMP Playback - nanocosmos Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">nanocosmos Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../../about/">About</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">nanostream <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../web/nanostream-4.x-web-api/">Web api</a>
</li>

                    
                        
<li >
    <a href="../../ios/nanostream-ios-sdk/">iOS api</a>
</li>

                    
                        
<li >
    <a href="../../macos/nanostream-macos-sdk/">MacOS api</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Android nanoStream SDK</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../getting-started/">Getting Started</a>
</li>

        
            
<li >
    <a href="../android-advanced-settings/">Advanced Settings/Usage</a>
</li>

        
            
<li class="active">
    <a href="./">RTMP Playback</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">bintu.live <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../bintu/android/bintu-android-sdk/">Android SDK</a>
</li>

                    
                        
<li >
    <a href="../../../bintu/">Getting</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../android-advanced-settings/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../../../bintu/android/bintu-android-sdk/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#nanostream_sdk_for_android_rtmp_playback">nanoStream SDK for Android RTMP Playback</a></li>
        
            <li><a href="#requirements">Requirements</a></li>
        
            <li><a href="#license">License</a></li>
        
            <li><a href="#package_name">Package name</a></li>
        
            <li><a href="#declaration">Declaration</a></li>
        
            <li><a href="#function_life_cycle">Function Life Cycle</a></li>
        
    
        <li class="main "><a href="#creating_an_instance">Creating an Instance</a></li>
        
    
        <li class="main "><a href="#configuration_and_settings">Configuration and Settings</a></li>
        
    
        <li class="main "><a href="#playersettings">PlayerSettings:</a></li>
        
    
        <li class="main "><a href="#player_state">Player State</a></li>
        
    
        <li class="main "><a href="#event_notification">Event Notification</a></li>
        
    
        <li class="main "><a href="#status_events">Status Events</a></li>
        
    
        <li class="main "><a href="#results_and_error_events">Results and Error Events</a></li>
        
    
        <li class="main "><a href="#audio_video_format">Audio / Video Format</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="nanostream_sdk_for_android_rtmp_playback">nanoStream SDK for Android RTMP Playback<a class="headerlink" href="#nanostream_sdk_for_android_rtmp_playback" title="Permanent link">&para;</a></h1>
<h2 id="description"><a name="rtmp_playback_description"></a>Description<a class="headerlink" href="#description" title="Permanent link">&para;</a></h2>
<p>RTMP Playback Component enables application developers to add playback of RTMP live and on demand streams to their apps.</p>
<p>Supported codecs are H.264 Video, AAC and MP3 Audio.</p>
<p>Video streams are decoded and rendered on a Surface that is hold by the application, usually connected to a <code>SurfaceView</code>.</p>
<p>Audio streams are decoded and rendered to system audio using the Android AudioSession/AudioTrack API.</p>
<p>The interface and usage are similar to the Android MediaPlayer. The Android MediaPlayerControl interface is implemented to enable control through an <code>android.widget.MediaController</code> instance.</p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<p>Related nanoStream SDK Version: 4.1</p>
<p>Minimum supported Android OS/API: 4.1/API 16</p>
<p>Required application permissions:</p>
<ul>
<li><code>android.permission.INTERNET</code></li>
<li><code>android.permission.RECORD_AUDIO</code></li>
<li><code>android.permission.RECORD_VIDEO</code></li>
<li><code>android.permission.MODIFY_AUDIO_SETTINGS</code></li>
</ul>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>The playback component requires a special feature flag to be enabled in your nanoStream license key. It not necessarily included in nanoStream Android SDK licenses.</p>
<h2 id="interface"><a name="rtmp_playback_interface"></a>Interface<a class="headerlink" href="#interface" title="Permanent link">&para;</a></h2>
<h3 id="package_name">Package name<a class="headerlink" href="#package_name" title="Permanent link">&para;</a></h3>
<p><code>net.nanocosmos.nanoStream.streamer</code></p>
<h3 id="declaration">Declaration<a class="headerlink" href="#declaration" title="Permanent link">&para;</a></h3>
<p><code>public abstract class NanostreamPlayer implements MediaPlayercontrol, Surfaceholder.Callback</code></p>
<h3 id="function_life_cycle">Function Life Cycle<a class="headerlink" href="#function_life_cycle" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Instance Handling</th>
<th>Initialization</th>
<th>Capabilities</th>
<th>Queries</th>
<th>Playback Control</th>
<th>Supported by RTMP Player</th>
</tr>
</thead>
<tbody>
<tr>
<td>createNanostreamPlayer</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>setSettings</td>
<td></td>
<td></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td>setPlayerEventListener</td>
<td></td>
<td></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td>canPrepare</td>
<td></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td>canPrepareAsync</td>
<td></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td>canPause</td>
<td></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td>canSeekBackward</td>
<td></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td>canSeekForward</td>
<td></td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>getState</td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>isPlaying</td>
<td></td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>getCurrentPosition</td>
<td></td>
<td>no</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>getDuration</td>
<td></td>
<td>no</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>prepare</td>
<td>no</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>prepareAsync</td>
<td>no</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>start</td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>pause</td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>seekTo</td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>stop</td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>start</td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>stop</td>
<td>yes</td>
</tr>
<tr>
<td></td>
<td>close</td>
<td></td>
<td></td>
<td></td>
<td>no</td>
</tr>
<tr>
<td></td>
<td>release</td>
<td></td>
<td></td>
<td></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h2 id="creating_an_instance">Creating an Instance<a class="headerlink" href="#creating_an_instance" title="Permanent link">&para;</a></h2>
<p><code>NanostreamPlayer</code> instances can be created through the static factory function <code>createNanostreamPlayer</code> at the top level <code>nanoStream class</code>. NanostreamPlayer is designed to support multiple player instances. The number of parallel instances can be limited by system resources such as codec,surfaces,memory, network connections and bandwidth.</p>
<h2 id="configuration_and_settings">Configuration and Settings<a class="headerlink" href="#configuration_and_settings" title="Permanent link">&para;</a></h2>
<p>Initial player settings are wrapped by the <code>NanostreamPlayer.PlayerSettings</code> class. The settings can be applied by calling <code>NanostreamPlayer.setSettings</code>.</p>
<h2 id="playersettings">PlayerSettings:<a class="headerlink" href="#playersettings" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Functions</th>
<th>Description</th>
<th>Type</th>
<th>Default Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>License</td>
<td>getLicense/setLicense</td>
<td>nanoStream license key</td>
<td>String</td>
<td>empty</td>
</tr>
<tr>
<td>Url</td>
<td>getUrl/setUrl</td>
<td>RTMP url</td>
<td>String</td>
<td>empty</td>
</tr>
<tr>
<td>Stream Name</td>
<td>getStreamname/setStreamname</td>
<td>RTMP stream name</td>
<td>String</td>
<td>empty</td>
</tr>
<tr>
<td>User Name</td>
<td>getUsername/setUsername</td>
<td>User name if RTMP authentication is required</td>
<td>String</td>
<td>empty</td>
</tr>
<tr>
<td>Password</td>
<td>getPassword/setPassword Password if RTMP authentication is required</td>
<td>String</td>
<td>empty</td>
<td></td>
</tr>
<tr>
<td>Buffer Time</td>
<td>getBufferTimeMs/setBufferTimeMs</td>
<td>Length of the stream buffer in milliseconds</td>
<td>Integer</td>
<td>2000ms/2s</td>
</tr>
<tr>
<td>Frame Dropping Mode</td>
<td>getFrameDroppingMode/setFrameDroppingMode</td>
<td>Configuration of the dropping mode regarding different droppable frame types</td>
<td>FrameDroppingMode</td>
<td>DROP_NO_FRAMES</td>
</tr>
<tr>
<td>Stream Playback</td>
<td>getVideoPlayback/getAudioPlayback/setStreamPlayback</td>
<td>Enable stream types to be decoded and played</td>
<td>boolean</td>
<td>video:true, audio:true</td>
</tr>
<tr>
<td>TrackTimout</td>
<td>getTrackTimeout/setTrackTimeout</td>
<td>Timeout to waiting for Track info</td>
<td>long</td>
<td>10000</td>
</tr>
<tr>
<td>EndlessMode</td>
<td>getEndlessMode/setEndlessMode</td>
<td>Reopen the stream until stop call</td>
<td>boolean</td>
<td>false</td>
</tr>
</tbody>
</table>
<h2 id="player_state">Player State<a class="headerlink" href="#player_state" title="Permanent link">&para;</a></h2>
<p>The player stat can be queried through the <code>getState()</code> function</p>
<pre><code class="java">/**
*
* The different states of the player instance.
*
*/
public enum PlayerState
{
    IDLE, INITIALIZED, PREPARED, STARTED, PAUSED, SEEKING, BUFFERING, RECONNECTING, PLAYBACKCOMPLETED, STOPPING, STOPPED;
}
</code></pre>

<table>
<thead>
<tr>
<th>State</th>
<th>Description</th>
<th>Supported by RTMP Player</th>
</tr>
</thead>
<tbody>
<tr>
<td>PlayerState.IDLE</td>
<td>Initial state. Player has not yet been initialized or has been closed.</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.INITIALIZED</td>
<td>Player has been initialized with license and settings.</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.PREPARED</td>
<td>Player has been prepared and is ready to start.</td>
<td>no</td>
</tr>
<tr>
<td>PlayerState.STARTED</td>
<td>Playback has been started.</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.PAUSED</td>
<td>Playback has been paused.</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.SEEKING</td>
<td>Player is Seeking</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.BUFFERING</td>
<td>Player is buffering stream data.</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.RECONNECTING</td>
<td>Player is performing a reconnect</td>
<td>no</td>
</tr>
<tr>
<td>PlayerState.PLAYBACKCOMPLETED</td>
<td>Playback has ended due to end of stream.</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.STOPPING</td>
<td>Player is stopping</td>
<td>yes</td>
</tr>
<tr>
<td>PlayerState.STOPPED</td>
<td>Player is stopped</td>
<td>yes</td>
</tr>
</tbody>
</table>
<h2 id="event_notification">Event Notification<a class="headerlink" href="#event_notification" title="Permanent link">&para;</a></h2>
<p>Event notifications can be received through the <code>NanostreamPlayer.PlayerEventListener</code> interface. Derive your listener from this interface and add it to the player by calling <code>setPlayerEventListener()</code>.</p>
<h2 id="status_events">Status Events<a class="headerlink" href="#status_events" title="Permanent link">&para;</a></h2>
<p>Event Type : <code>TYPE_RTMP_STATUS</code></p>
<table>
<thead>
<tr>
<th>Event Code</th>
<th>Description</th>
<th>Corresponding State</th>
</tr>
</thead>
<tbody>
<tr>
<td>NanostreamEvent.CODE_STREAM_STARTED</td>
<td>Playback has been started.</td>
<td>PlayerState.STARTED</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_STOPPING</td>
<td>Playback will stop.</td>
<td>PlayerState.STOPPING</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_STOPPED</td>
<td>Playback has been stopped.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_ERROR_CONNECT</td>
<td>The connect to the stream url failed.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_BUFFERING</td>
<td>Player is buffering stream data</td>
<td>PlayerState.BUFFERING</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_PLAYBACKCOMPLETED</td>
<td>Playback has ended due to end of stream.</td>
<td>PlayerState.PLAYBACKCOMPLETED</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_NOT_FOUND</td>
<td>The specified stream could not be found.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_SEEKING</td>
<td>The Stream is seeking.</td>
<td>PlayerState.SEEKING</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_PAUSED</td>
<td>The Stream is paused</td>
<td>PlayerState.PAUSED</td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_VIDEO_FORMAT_AVAILABLE</td>
<td>The Stream has a MediaFormat for the Video Track</td>
<td></td>
</tr>
<tr>
<td>NanostreamEvent.CODE_STREAM_AUDIO_FORMAT_AVAILABLE</td>
<td>The Stream has a MediaFormat for the Audio Track</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="results_and_error_events">Results and Error Events<a class="headerlink" href="#results_and_error_events" title="Permanent link">&para;</a></h2>
<p>Event Type : <code>TYPENANORESULTS</code> Event Codes : Values of type nanoResults</p>
<table>
<thead>
<tr>
<th>Event Code</th>
<th>Description</th>
<th>Corresponding State</th>
</tr>
</thead>
<tbody>
<tr>
<td>nanoResults.N_NOT_INITIALIZED</td>
<td>The RTMP library has not been initialized properly.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_ALLOCATEDATA_FAILED_RTMP_SRC</td>
<td>Memory allocation failed.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_LICENSE_INVALID</td>
<td>License check failed - License invalid.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_LICENSE_INVALID_RTMP_SRC</td>
<td>License check failed - RTMP playback is not included.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_LICENSE_EXPIRED</td>
<td>License check failed - The license period has ended.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_TCP_CONNECT_FAILED</td>
<td>TCP connect failed.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_RTMP_HANDSHAKE_FAILED</td>
<td>RTMP handshake failed.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_RTMP_CONNECT_FAILED</td>
<td>RTMP connect failed.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_RTMP_AUTH_FAILED</td>
<td>RTMP authentication is required and failed.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_RTMP_APP_INVALID</td>
<td>The application part of the url is invalid and has been rejected.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_RTMP_STATUS_PLAY_STREAM_NOT_FOUND</td>
<td>The stream name could not be found.</td>
<td>PlayerState.STOPPED</td>
</tr>
<tr>
<td>nanoResults.N_RTMP_STATUS_PLAY_STREAM_SEEK</td>
<td>The player is seeking.</td>
<td>PlayerState.SEEKING</td>
</tr>
<tr>
<td>nanoResults.N_RTMP_SEEK_NOT_AVAILABLE</td>
<td>The stream can not seek.</td>
<td></td>
</tr>
<tr>
<td>nanoResults.N_RTMP_SEEK_FAILED</td>
<td>The stream can not seek.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="audio_video_format">Audio / Video Format<a class="headerlink" href="#audio_video_format" title="Permanent link">&para;</a></h2>
<p>After the <code>NanostreamEvent.CODE_STREAM_AUDIO/VIDEO_FORMAT_AVAILABLE</code> event, you can get the MediaFormat Object with the <code>getAudio/VideoFormat()</code><sup><a href="#fnAV1">1</a></sup> function call.</p>
<p>We added two custom Fields for the Video MediaFormat:</p>
<ul>
<li><code>NanostreamPlayer.KEY_ASPECT_RATIO_WIDTH</code></li>
<li><code>NanostreamPlayer.KEY_ASPECT_RATIO_HEIGHT</code></li>
</ul>
<p>With these custom fields you can get the aspect ratio width and height.</p>
<pre><code class="java">MediaFormat videoFormat = mPlayer.getVideoFormat();

int aspectRatioWidth = videoFormat.getInteger(NanostreamPlayer.KEY_ASPECT_RATIO_WIDTH);
int aspectRatioHeight = videoFormat.getInteger(NanostreamPlayer.KEY_ASPECT_RATIO_HEIGHT);
</code></pre>

<h2 id="implementation_example"><a name="rtmp_playback_implementation_example"></a>Implementation Example<a class="headerlink" href="#implementation_example" title="Permanent link">&para;</a></h2>
<pre><code class="java">public class PlayerActivity extends Activity implements PlayerEventListener, SurfaceHolder.Callback {
    ...
    private NanostreamPlayer mPlayer = null;
    private String license = &quot;YOUR LICENSE CODE&quot;;

    private String strStreamUrl = &quot;rtmp://192.168.1.100/vod&quot;;
    private String strStreamname = &quot;mp4:file.mp4&quot;;

    private LinearLayout root;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        root = new LinearLayout(this);
        root.setOrientation(LinearLayout.VERTICAL);
        root.setLayoutParams(containerParams);
        root.setBackgroundColor(Color.BLACK);

        ...

        mPlayer = nanoStream.createNanostreamPlayer();

        PlayerSettings settings = mPlayer.new PlayerSettings();

        settings.setLicense(license);
        settings.setUrl(strStreamUrl);
        settings.setStreamname(strStreamname);
        settings.setAuthUsername(&quot;&quot;);
        settings.setAuthPassword(&quot;&quot;);
        settings.setBufferTimeMs(2000);

        mPlayer.setSettings(settings);
        mPlayer.setPlayerEventListener(this);

        ...
        // we need a surface Callback for the application
        LinearLayout.LayoutParams surfaceParams = new LinearLayout.LayoutParams(ViewGroup.LayoutParams.FILL_PARENT, ViewGroup.LayoutParams.FILL_PARENT, 0.5F);
        surfaceParams.gravity = Gravity.CENTER;
        surfaceParams.weight = 0.5f;

        SurfaceView surfaceView = new SurfaceView(this);
        surfaceView.setLayoutParams(surfaceParams);
        surfaceView.getHolder.addCallback(this);

        root.addView(surfaceView);
        setContentView(root);
    }

    ...

    @Override
    public void onPlayerEvent(NanostreamEvent event, NanostreamPlayer instance) {
        final String msg = event.GetDescription();
        Log.d(this.getClass().getName(), event.GetDescription());
    }

    @Override
    public void surfaceCreated(SurfaceHolder holder) {
        mPlayer.surfaceCreated(holder);

        try {
            if (!mPlayer.getState().equals(PlayerState.STARTED)) {
                mPlayer.start();
            }
        } catch (IllegalStateException e) {
            e.printStackTrace();
        }
    }

    @Override
    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {
        mPlayer.surfaceChanged(holder, format, width, height);
    }

    @Override
    public void surfaceDestroyed(SurfaceHolder holder) {
        mPlayer.surfaceDestroyed(holder);
    }
}
</code></pre>

<p><a name="fnAV1">1</a>: since nanoStream Android SDK 3.2</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>