<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Audio Level - nanocosmos Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">
        <link href="../../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">nanocosmos Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Home</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">nanostream <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Web</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../web/nanostream-4.x-web-api/">API Manual</a>
</li>

        
            
<li >
    <a href="../../web/nanostream_javascript_integration/">Javascript Integration</a>
</li>

        
    </ul>
  </li>

                    
                        
<li >
    <a href="../../ios/nanostream-ios-sdk/">iOS api</a>
</li>

                    
                        
<li >
    <a href="../../macos/nanostream-macos-sdk/">MacOS api</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Android</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../android/android_developer_manual_streaming/">Streaming Developer Manual</a>
</li>

        
            
<li >
    <a href="../../android/android_developer_manual_playback/">Playback Developer Manual</a>
</li>

        
            
<li >
    <a href="../../android/android_developer_manual_sample/">Sample Developer Manual</a>
</li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Windows api</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../windows/windows_developer_manual/">Developer Manual</a>
</li>

        
            
<li >
    <a href="../../windows/windows_binares/">Binary Modules</a>
</li>

        
            
<li >
    <a href="../../windows/windows_license_help/">License Help</a>
</li>

        
            
<li >
    <a href="../../windows/windows_networkwriter/">RTMP Network Render & Writer</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Language Integration</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../windows/language_integration/nanostream_cpp_integration/">C++</a>
</li>

        
            
<li >
    <a href="../../windows/language_integration/nanostream_csharp_integration/">C#</a>
</li>

        
            
<li >
    <a href="../../windows/language_integration/nanostream_delphi_integration/">Delphi</a>
</li>

        
            
<li >
    <a href="../../windows/language_integration/nanostream_activex_visualcpp/">VisualC</a>
</li>

        
            
<li >
    <a href="../../windows/language_integration/nanostream_activex_visualcpp_mfc/">MFC</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Direct Show</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../directshow/directshow_audio_volume/">Audio Volume</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">H.264</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../directshow/directshow_avc_h264/">AVC/H.264 Video Codec</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_nanoAVC_decoding_sdk/">nanoAVC/H.264 DirectShow Decoding</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_nanoAVC_encoding_sdk/">nanoAVC/H.264 DirectShow Encoding</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_h264_video_decoder/">H.264 Video Decoder Filter</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_h264_video_encoder/">H.264 Video Encoder Filter</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">MPEG</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../directshow/directshow_mpeg2_broadcast_sdk/">MPEG2 Broadcast SDK</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_mpeg2_video_decoder/">MPEG2 Video Decoder</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_mpeg2_video_encoder/">MPEG2 Video Encoder</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_mpeg_audio_encoder/">MPEG Audio Encoder</a>
</li>

        
    </ul>
  </li>

        
            
<li >
    <a href="../../directshow/directshow_quicktime_imx/">Quicktime IMX Playback</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">RTMP</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../directshow/directshow_rtmp_source/">RTMP Source</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_rtmp_writer/">RTMP Writer</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_rtmp_status_statistics/">RTMP Status & Statistics</a>
</li>

        
    </ul>
  </li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">RTSP</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../directshow/directshow_rtsp_sink/">RTSP Sink</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_rtsp_source/">RTSP Source</a>
</li>

        
    </ul>
  </li>

        
            
<li >
    <a href="../../directshow/directshow_udp_ts_streaming/">UDP/TS Streaming</a>
</li>

        
            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Video Filter</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../directshow/directshow_screen_capture_filter/">Screen Capture Filter</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_video_mixer/">Video Mixer PiP</a>
</li>

        
            
<li >
    <a href="../../directshow/directshow_overlay_mixing/">Video Mixer Overlay</a>
</li>

        
    </ul>
  </li>

        
    </ul>
  </li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Additional Knowledge</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../nanostream_aec/">Acoustic Echo Cancellation</a>
</li>

        
            
<li class="active">
    <a href="./">Audio Level</a>
</li>

        
            
<li >
    <a href="../nanostream_bitrate_control_statistics/">Bitrate Control & Statistics</a>
</li>

        
            
<li >
    <a href="../nanostream_latency/">Latency</a>
</li>

        
            
<li >
    <a href="../nanostream_low_latency/">Low Latency</a>
</li>

        
            
<li >
    <a href="../nanostream_mixer_overlay/">Overlay Mixer</a>
</li>

        
            
<li >
    <a href="../nanostream_mp4_recording/">MP4 Recording</a>
</li>

        
            
<li >
    <a href="../nanostream_remote_server_recording/">Remote Server Recording</a>
</li>

        
            
<li >
    <a href="../nanostream_udp_ts_streaming/">UDP/TS Streaming</a>
</li>

        
            
<li >
    <a href="../nanostream_rtmp_all/">RTMP</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">bintu.live <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../../bintu/android/bintu-android-sdk/">Android SDK</a>
</li>

                    
                        
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">iOS</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../bintu/ios/bintu_ios_sdk/">SDK Documentation</a>
</li>

        
            
<li >
    <a href="../../../bintu/ios/bintu_ios_sample/">Sample Documentation</a>
</li>

        
    </ul>
  </li>

                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../../about/">About</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../nanostream_aec/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../nanostream_bitrate_control_statistics/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#nanostream_audio_levels">nanoStream Audio Levels</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="nanostream_audio_levels">nanoStream Audio Levels<a class="headerlink" href="#nanostream_audio_levels" title="Permanent link">&para;</a></h1>
<p>The current audio level can be queried with the method <code>GetAudioLevel(int channel)</code>. Valid parameters are <em>0</em> for the left respectively <em>1</em> for the right channel. Note that the plugin method gives back audio level values (<em>min value</em> is <em>0</em>, <em>max value</em> is <em>32767</em>) after <code>StartPreview</code> or <code>StartBroadcast</code> was invoked; before that the method will just return the current audio volume (most of the time that will be the value <em>100</em>).</p>
<p>Simple sample code for java script:
First create a variable:</p>
<pre><code class="javascript">var liveTimer = {};
</code></pre>

<p>&nbsp;</p>
<p>Then in the handler function for the button <code>StartPreview</code> or <code>StartBroadcast</code> method assign a function which should be called every <em>x</em> milliseconds (here <em>100 ms</em>)</p>
<pre><code class="javascript">liveTimer = window.setInterval(audioLevelHandler, 100);
</code></pre>

<p>&nbsp;</p>
<p>The function itself:</p>
<pre><code class="javascript">function audioLevelHandler() {
var v = liveObj.GetAudioLevel(channel); // channel can be 0 for left channel or 1 for right channel
var percent = Math.round(v*100.0/32767.0);
//... do something with the values
}```
After the preview or broadcast is stopped you can stop the audio level handler:
```javascript
window.clearInterval(liveTimer);
</code></pre>

<p>&nbsp;</p>
<p><strong>More frequent update of audio level values</strong>
To get the audio level data more frequently from the plugin you can use following setting:</p>
<pre><code class="javascript">pluginObj.SetConfig(_T(&quot;AudioLatency&quot;), _T(&quot;100&quot;)); // the 2° value is time in ms
</code></pre>

<p>The default value for most cameras for the audio latency is 500 ms, so the audio level display can be quite delayed. You can also try to set 50ms for the AudioLatency, but 100ms should be sufficient.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>